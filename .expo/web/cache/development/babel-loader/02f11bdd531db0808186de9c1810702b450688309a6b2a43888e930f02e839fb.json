{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nimport axios from 'axios';\nvar API_URL = 'http://localhost:5001/api';\nvar login = function () {\n  var _ref = _asyncToGenerator(function* (identifier, password) {\n    try {\n      console.log('Attempting login with:', {\n        identifier: identifier,\n        password: password\n      });\n      var response = yield axios.post(`${API_URL}/login`, {\n        identifier: identifier,\n        password: password\n      });\n      console.log('Login response:', response.data);\n      return response.data;\n    } catch (error) {\n      var _error$response;\n      console.error('Login error:', ((_error$response = error.response) == null ? void 0 : _error$response.data) || error.message);\n      throw error;\n    }\n  });\n  return function login(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar logout = function logout() {\n  localStorage.removeItem('user');\n  return Promise.resolve();\n};\nvar createAccount = function () {\n  var _ref2 = _asyncToGenerator(function* (username, password, email) {\n    try {\n      var response = yield axios.post(`${API_URL}/register`, {\n        username: username,\n        password: password,\n        email: email\n      });\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  });\n  return function createAccount(_x3, _x4, _x5) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar forgotPassword = function () {\n  var _ref3 = _asyncToGenerator(function* (email) {\n    try {\n      var response = yield axios.post(`${API_URL}/auth/forgot-password`, {\n        email: email\n      });\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  });\n  return function forgotPassword(_x6) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar resetPassword = function () {\n  var _ref4 = _asyncToGenerator(function* (token, newPassword) {\n    try {\n      var response = yield axios.post(`${API_URL}/auth/reset-password`, {\n        token: token,\n        newPassword: newPassword\n      });\n      return _objectSpread({\n        success: true\n      }, response.data);\n    } catch (error) {\n      var _error$response2, _error$response3, _error$response3$data;\n      console.error('Reset password error:', ((_error$response2 = error.response) == null ? void 0 : _error$response2.data) || error.message);\n      return {\n        success: false,\n        error: ((_error$response3 = error.response) == null ? void 0 : (_error$response3$data = _error$response3.data) == null ? void 0 : _error$response3$data.error) || 'Failed to reset password'\n      };\n    }\n  });\n  return function resetPassword(_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nexport var authService = {\n  login: login,\n  logout: logout,\n  createAccount: createAccount,\n  forgotPassword: forgotPassword,\n  resetPassword: resetPassword\n};","map":{"version":3,"names":["axios","API_URL","login","_ref","_asyncToGenerator","identifier","password","console","log","response","post","data","error","_error$response","message","_x","_x2","apply","arguments","logout","localStorage","removeItem","Promise","resolve","createAccount","_ref2","username","email","_x3","_x4","_x5","forgotPassword","_ref3","_x6","resetPassword","_ref4","token","newPassword","_objectSpread","success","_error$response2","_error$response3","_error$response3$data","_x7","_x8","authService"],"sources":["/Users/korbynirvin/Desktop/TFC(Training_Frequency_Calculator)/TFC/src/services/authService.js"],"sourcesContent":["import axios from 'axios';\n\n// Use different URLs based on platform\nconst API_URL = 'http://localhost:5001/api';\n\nconst login = async (identifier, password) => {\n  try {\n    console.log('Attempting login with:', { identifier, password });\n    const response = await axios.post(`${API_URL}/login`, { identifier, password });\n    console.log('Login response:', response.data);\n    return response.data;\n  } catch (error) {\n    console.error('Login error:', error.response?.data || error.message);\n    throw error;\n  }\n};\n\nconst logout = () => {\n  // Clear any auth tokens or user data from local storage if needed\n  localStorage.removeItem('user');\n  return Promise.resolve();\n};\n\nconst createAccount = async (username, password, email) => {\n  try {\n    const response = await axios.post(`${API_URL}/register`, { username, password, email });\n    return response.data;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst forgotPassword = async (email) => {\n  try {\n    const response = await axios.post(`${API_URL}/auth/forgot-password`, { email });\n    return response.data;\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst resetPassword = async (token, newPassword) => {\n  try {\n    const response = await axios.post(`${API_URL}/auth/reset-password`, { \n      token, \n      newPassword // Match the backend's expected parameter name\n    });\n    return { success: true, ...response.data };\n  } catch (error) {\n    console.error('Reset password error:', error.response?.data || error.message);\n    return { \n      success: false, \n      error: error.response?.data?.error || 'Failed to reset password' \n    };\n  }\n};\n\nexport const authService = {\n  login,\n  logout,\n  createAccount,\n  forgotPassword,\n  resetPassword,\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}