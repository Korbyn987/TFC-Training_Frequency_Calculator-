{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\adamh\\\\OneDrive - University of Central Missouri\\\\Desktop\\\\TFC\\\\TFC-Training_Frequency_Calculator-\\\\src\\\\components\\\\WorkoutHistory.js\",\n  _this = this;\nimport React, { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar WorkoutHistory = function WorkoutHistory(_ref) {\n  var userId = _ref.userId;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    workouts = _useState2[0],\n    setWorkouts = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    error = _useState6[0],\n    setError = _useState6[1];\n  useEffect(function () {\n    var fetchHistory = function () {\n      var _ref2 = _asyncToGenerator(function* () {\n        try {\n          var response = yield axios.get(`http://localhost:5001/api/closed_workouts?user_id=${userId}`);\n          setWorkouts(response.data.workouts);\n        } catch (err) {\n          setError(\"Failed to load workout history\");\n        } finally {\n          setLoading(false);\n        }\n      });\n      return function fetchHistory() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    if (userId) fetchHistory();\n  }, [userId]);\n  if (loading) return _jsxDEV(ActivityIndicator, {\n    style: {\n      marginTop: 20\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 23\n  }, _this);\n  if (error) return _jsxDEV(Text, {\n    style: styles.error,\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 21\n  }, _this);\n  if (!workouts.length) return _jsxDEV(Text, {\n    style: styles.empty,\n    children: \"No workout history found.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 32\n  }, _this);\n  return _jsxDEV(View, {\n    style: styles.section,\n    children: [_jsxDEV(Text, {\n      style: styles.sectionTitle,\n      children: \"Workout History\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, _this), _jsxDEV(FlatList, {\n      data: workouts,\n      keyExtractor: function keyExtractor(item) {\n        return item.id.toString();\n      },\n      renderItem: function renderItem(_ref3) {\n        var item = _ref3.item;\n        return _jsxDEV(View, {\n          style: styles.card,\n          children: [_jsxDEV(Text, {\n            style: styles.workoutName,\n            children: item.workout_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 13\n          }, _this), _jsxDEV(Text, {\n            style: styles.date,\n            children: new Date(item.start_time).toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 13\n          }, _this), _jsxDEV(Text, {\n            style: styles.duration,\n            children: [\"Duration: \", item.duration ? `${item.duration} sec` : \"-\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 13\n          }, _this), _jsxDEV(Text, {\n            style: styles.exercisesTitle,\n            children: \"Exercises:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 13\n          }, _this), Array.isArray(item.exercises) && item.exercises.map(function (ex, idx) {\n            return _jsxDEV(Text, {\n              style: styles.exerciseItem,\n              children: [\"- \", ex.name]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 15\n            }, _this);\n          }), item.notes ? _jsxDEV(Text, {\n            style: styles.notes,\n            children: [\"Notes: \", item.notes]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 27\n          }, _this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, _this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, _this);\n};\nvar styles = StyleSheet.create({\n  section: {\n    marginTop: 24,\n    paddingHorizontal: 16\n  },\n  sectionTitle: {\n    fontSize: 20,\n    fontWeight: \"bold\",\n    marginBottom: 12\n  },\n  card: {\n    backgroundColor: \"#f9f9f9\",\n    borderRadius: 8,\n    padding: 12,\n    marginBottom: 12\n  },\n  workoutName: {\n    fontSize: 16,\n    fontWeight: \"bold\"\n  },\n  date: {\n    color: \"#666\",\n    fontSize: 13,\n    marginBottom: 2\n  },\n  duration: {\n    fontSize: 13,\n    marginBottom: 2\n  },\n  exercisesTitle: {\n    fontWeight: \"bold\",\n    marginTop: 6\n  },\n  exerciseItem: {\n    fontSize: 13,\n    marginLeft: 8\n  },\n  notes: {\n    marginTop: 4,\n    fontStyle: \"italic\",\n    color: \"#444\"\n  },\n  error: {\n    color: \"red\",\n    marginTop: 20,\n    textAlign: \"center\"\n  },\n  empty: {\n    color: \"#777\",\n    marginTop: 20,\n    textAlign: \"center\"\n  }\n});\nexport default WorkoutHistory;","map":{"version":3,"names":["React","useEffect","useState","View","Text","FlatList","ActivityIndicator","StyleSheet","AsyncStorage","axios","jsxDEV","_jsxDEV","WorkoutHistory","_ref","userId","_useState","_useState2","_slicedToArray","workouts","setWorkouts","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","fetchHistory","_ref2","_asyncToGenerator","response","get","data","err","apply","arguments","style","marginTop","fileName","_jsxFileName","lineNumber","columnNumber","_this","styles","children","length","empty","section","sectionTitle","keyExtractor","item","id","toString","renderItem","_ref3","card","workoutName","workout_name","date","Date","start_time","toLocaleString","duration","exercisesTitle","Array","isArray","exercises","map","ex","idx","exerciseItem","name","notes","create","paddingHorizontal","fontSize","fontWeight","marginBottom","backgroundColor","borderRadius","padding","color","marginLeft","fontStyle","textAlign"],"sources":["C:/Users/adamh/OneDrive - University of Central Missouri/Desktop/TFC/TFC-Training_Frequency_Calculator-/src/components/WorkoutHistory.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { View, Text, FlatList, ActivityIndicator, StyleSheet } from \"react-native\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport axios from \"axios\";\n\nconst WorkoutHistory = ({ userId }) => {\n  const [workouts, setWorkouts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchHistory = async () => {\n      try {\n        // Replace with your backend URL\n        const response = await axios.get(\n          `http://localhost:5001/api/closed_workouts?user_id=${userId}`\n        );\n        setWorkouts(response.data.workouts);\n      } catch (err) {\n        setError(\"Failed to load workout history\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (userId) fetchHistory();\n  }, [userId]);\n\n  if (loading) return <ActivityIndicator style={{ marginTop: 20 }} />;\n  if (error) return <Text style={styles.error}>{error}</Text>;\n  if (!workouts.length) return <Text style={styles.empty}>No workout history found.</Text>;\n\n  return (\n    <View style={styles.section}>\n      <Text style={styles.sectionTitle}>Workout History</Text>\n      <FlatList\n        data={workouts}\n        keyExtractor={(item) => item.id.toString()}\n        renderItem={({ item }) => (\n          <View style={styles.card}>\n            <Text style={styles.workoutName}>{item.workout_name}</Text>\n            <Text style={styles.date}>{new Date(item.start_time).toLocaleString()}</Text>\n            <Text style={styles.duration}>Duration: {item.duration ? `${item.duration} sec` : \"-\"}</Text>\n            <Text style={styles.exercisesTitle}>Exercises:</Text>\n            {Array.isArray(item.exercises) && item.exercises.map((ex, idx) => (\n              <Text key={idx} style={styles.exerciseItem}>- {ex.name}</Text>\n            ))}\n            {item.notes ? <Text style={styles.notes}>Notes: {item.notes}</Text> : null}\n          </View>\n        )}\n      />\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  section: { marginTop: 24, paddingHorizontal: 16 },\n  sectionTitle: { fontSize: 20, fontWeight: \"bold\", marginBottom: 12 },\n  card: { backgroundColor: \"#f9f9f9\", borderRadius: 8, padding: 12, marginBottom: 12 },\n  workoutName: { fontSize: 16, fontWeight: \"bold\" },\n  date: { color: \"#666\", fontSize: 13, marginBottom: 2 },\n  duration: { fontSize: 13, marginBottom: 2 },\n  exercisesTitle: { fontWeight: \"bold\", marginTop: 6 },\n  exerciseItem: { fontSize: 13, marginLeft: 8 },\n  notes: { marginTop: 4, fontStyle: \"italic\", color: \"#444\" },\n  error: { color: \"red\", marginTop: 20, textAlign: \"center\" },\n  empty: { color: \"#777\", marginTop: 20, textAlign: \"center\" },\n});\n\nexport default WorkoutHistory;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}